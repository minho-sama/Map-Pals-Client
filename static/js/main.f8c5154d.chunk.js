(this["webpackJsonpmap-pals-client"]=this["webpackJsonpmap-pals-client"]||[]).push([[0],{58:function(e,t,r){},78:function(e,t,r){},87:function(e,t,r){"use strict";r.r(t);var s=r(2),n=r.n(s),l=r(20),c=r.n(l),A=(r(58),r(48)),a=r(1);var o=function(){return Object(a.jsx)("footer",{className:"text-sm p-1 text-center bg-fb-blue-light text-white font-semibold",children:Object(a.jsxs)("a",{href:"https://github.com/minho-sama/Map-Pals-Client",target:"_blank",rel:"noreferrer",className:"flex gap-2 items-center justify-end px-2",children:[Object(a.jsx)("span",{className:"hover:underline",children:"minh"}),Object(a.jsx)(A.a,{size:"18px",className:"text-gray-800"})]})})},i=r(6),g=r(8),d=r(5),u="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/4QBWRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAAEsAAAAAQAAASwAAAAB/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAPHAFaAAMbJUccAQAAAgAEAP/hDIFodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nIHg6eG1wdGs9J0ltYWdlOjpFeGlmVG9vbCAxMC4xMCc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp0aWZmPSdodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyc+CiAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICA8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4KICA8dGlmZjpZUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpZUmVzb2x1dGlvbj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nPgogIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnN0b2NrOjZmOTgyYThhLTA2YzUtNDJkMC05YmU3LWI1NDQ3ZjRmNzhlNTwveG1wTU06RG9jdW1lbnRJRD4KICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmJkYjhmNDM5LTIzNTctNDYwMi1iYTY0LWFjOWQzMTA5MmIxNjwveG1wTU06SW5zdGFuY2VJRD4KIDwvcmRmOkRlc2NyaXB0aW9uPgo8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSd3Jz8+/9sAQwAFAwQEBAMFBAQEBQUFBgcMCAcHBwcPCwsJDBEPEhIRDxERExYcFxMUGhURERghGBodHR8fHxMXIiQiHiQcHh8e/8AACwgBaAFoAQERAP/EABwAAQACAwEBAQAAAAAAAAAAAAAGBwIEBQMBCP/EAEAQAAICAQICBQgIAwcFAAAAAAABAgMEBREGIRIiMUFRBxNhcZGhwdEUMkJSU3KBsRUkMxYjNDViwvBDdJKTsv/aAAgBAQAAPwD9lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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";var m=function(){var e,t,r=Object(s.useContext)(Ze),l=r.user,c=r.removeUser,A=Object(s.useContext)(Ve),o=A.token,m=A.removeToken,C=Object(g.f)(),j=Object(g.g)(),b=function(e){if(e===j.pathname)return"/profile"===e?" border-l-2 border-fb-blue flex flex-row":"border-l-2 border-fb-blue"};return n.a.useEffect((function(){l&&fetch("https://mappals.herokuapp.com/checkToken",{method:"POST",headers:new Headers({Authorization:"token ".concat(o),"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){e.err&&(c(),m(),C.push("/login"))})),l&&!o&&(c(),C.push("/login"))}),[l]),Object(a.jsxs)("nav",{className:"bg-fb-blue-light text-white p-2 flex items-center px-4",children:[Object(a.jsx)("a",{href:"/",className:"text-base md:text-2xl",children:"MapPals"}),Object(a.jsx)(i.a,{className:"mx-2 w-5"}),l?Object(a.jsxs)("ul",{className:"navbar text-xs md:text-sm md:text-base justify-end items-center flex w-full gap-3 md:gap-6 font-semibold",children:[Object(a.jsx)("li",{className:b("/map"),children:Object(a.jsx)(d.b,{to:"/map",className:"text-center",children:"The Map"})}),Object(a.jsx)("li",{className:b("/friends"),children:Object(a.jsxs)(d.b,{to:"/friends",className:"relative",children:["Search Friends",(null===(e=l.friendRequests)||void 0===e?void 0:e.length)>0&&Object(a.jsx)("span",{className:"text-xs text-white bg-red-600 rounded-sm px-1 absolute -top-1",children:null===(t=l.friendRequests)||void 0===t?void 0:t.length})]})}),Object(a.jsx)("li",{className:b("/profile"),children:Object(a.jsxs)(d.b,{to:"/profile/".concat(l._id),className:"flex gap-2 items-center",children:[Object(a.jsx)("img",{src:"".concat(l.imgUrl),onError:function(e){e.target.src=u},alt:"profile-pic",className:"w-6 rounded-full shadow-lg"}),Object(a.jsxs)("p",{children:[l.username," "]})]})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{onClick:function(){c(),m(),C.push("/")},children:"Log Out"})})]}):Object(a.jsxs)("ul",{className:" text-sm md:text-base justify-end items-center flex w-full gap-6 font-semibold",children:[Object(a.jsx)("li",{className:"transition hover:text-gray-100",children:Object(a.jsx)(d.b,{to:"/login",className:"border-transparent",children:"Log in"})}),Object(a.jsx)("li",{className:"transition hover:text-gray-100",children:Object(a.jsx)(d.b,{to:"/signup",className:"border-transparent",children:"Sign Up"})})]})]})},C=r(3),j=r(91),b=r(90),I=r(92),f=r(89),h=r(88),x=r.p+"static/media/defaultCity.a254e768.jpg";var p=function(e){var t=e.place,r=e.addDefaultSrc;return Object(a.jsx)(h.a,{children:Object(a.jsxs)("figure",{children:[Object(a.jsx)("figcaption",{className:"font-semibold",children:t.name}),Object(a.jsx)("br",{}),Object(a.jsx)("img",{src:t.imgUrl,onError:r,alt:"place img",className:"rounded-md"}),Object(a.jsxs)("figcaption",{style:{fontSize:"9px",float:"right",marginTop:"1px"},children:["added by ",Object(a.jsx)("span",{className:"font-semibold",children:t.user.username})]})]})})};var O=function(e){var t=e.place,r=Object(s.useContext)(me).setCurrentMarker,n=Object(s.useContext)(Ce),l=n.setAddLat,c=n.setAddLng;return Object(a.jsx)("div",{children:Object(a.jsx)(f.a,{position:[t.lat,t.lng],eventHandlers:{click:function(e){r(t),l(null),c(null)}},children:Object(a.jsx)(p,{place:t,addDefaultSrc:function(e){e.target.src=x}})})})},v=r(15),w=r.n(v),k=r.p+"static/media/street-view.60693888.png",N=new w.a.Icon({iconUrl:k,iconRetinaUrl:k,iconSize:[50,55]}),y=r.p+"static/media/tempMarker.0b3d60a0.png",S=new w.a.Icon({iconUrl:y,iconRetinaUrl:y,iconSize:[35,35]}),M=r(42);var U=function(e){var t=e.lat,r=e.lng,n=Object(b.a)(),l=Object(s.useContext)(me),c=l.allMarkers,A=l.setCurrentMarker,o=Object(s.useContext)(Ce),i=o.setAddLat,g=o.setAddLng,d=Object(s.useState)([]),u=Object(C.a)(d,2),m=u[0],j=u[1];Object(s.useEffect)((function(){n.flyTo([t,r],14,{duration:2})}),[t,r,n]),Object(b.b)({click:function(e){console.log(e.latlng);var t=e.latlng,r=t.lat,s=t.lng;i(r),g(s),A({}),j([r,s])}});var x=new M.OpenStreetMapProvider,p=new M.GeoSearchControl({provider:x});return Object(s.useEffect)((function(){n.addControl(p)}),[n]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(a.jsx)(f.a,{position:[t,r],icon:N,children:Object(a.jsx)(h.a,{children:Object(a.jsx)("span",{className:"font-semibold",children:"Your position"})})}),m.length>0&&Object(a.jsx)(f.a,{position:m,icon:S,children:Object(a.jsx)(h.a,{children:Object(a.jsx)("span",{className:"font-semibold",children:"Add new place here"})})}),c&&c.map((function(e){return Object(a.jsx)(O,{place:e},e._id)}))]})};r(78);var T,P,E,L,R,H,q,W,F,z,J,Z,V,X,B,Y=function(){var e=Object(s.useState)(51.505),t=Object(C.a)(e,2),r=t[0],n=t[1],l=Object(s.useState)(-.09),c=Object(C.a)(l,2),A=c[0],o=c[1];return Object(s.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,r=t.latitude,s=t.longitude;n(r),o(s)}),(function(e){return console.log(e)}))}),[]),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("section",{className:"w-full h-full md:w-3/4 md:h-full ",children:Object(a.jsx)(j.a,{center:[r,A],zoom:13,scrollWheelZoom:!0,className:"w-full h-full",children:Object(a.jsx)(U,{lat:r,lng:A})})})})},G=["title","titleId"];function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r,s,n={},l=Object.keys(e);for(s=0;s<l.length;s++)r=l[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function K(e,t){var r=e.title,n=e.titleId,l=_(e,G);return s.createElement("svg",D({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 511.999 511.999",style:{enableBackground:"new 0 0 511.999 511.999"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},l),r?s.createElement("title",{id:n},r):null,s.createElement("g",null,s.createElement("path",{style:{fill:"#03AA6F"},d:"M441.374,79.519l-26.485,17.656l-44.141-8.828l-26.485-8.828l-35.313,8.828l-26.485-8.828 l17.656-35.313h35.313l34.607-17.303C396.73,40.101,420.875,57.916,441.374,79.519z"}),s.createElement("path",{style:{fill:"#03AA6F"},d:"M238.325,44.206l-8.828,26.485l-26.485,8.828l-26.485,44.141l-44.141,26.485l-61.797,8.828v26.485 l17.656,17.656v35.313L61.762,220.77l-26.485-17.656l-15.361-46.171C46.356,93.935,96.898,44.126,160.284,18.604l25.072,16.774 L238.325,44.206z"}),s.createElement("polygon",{style:{fill:"#03AA6F"},points:"255.982,291.395 247.154,335.536 211.841,370.849 211.841,397.334 176.528,423.818  176.528,467.959 150.044,459.131 132.387,414.99 132.387,326.708 88.246,317.88 70.59,282.567 70.59,256.082 88.246,238.426  114.731,211.941 132.387,247.254 194.184,247.254 220.669,291.395  "}),s.createElement("path",{style:{fill:"#03AA6F"},d:"M479.335,130.987c48.193,85.978,42.702,191.996-14.125,272.526l-23.836-23.836v-35.313 l-17.656-35.313l-17.656-35.313v-35.313l-26.485-17.656l-35.313,8.828l-61.797-26.485l-8.828-61.797l26.485-26.485h52.969 l17.656,26.485l52.969,8.828l52.969-17.656L479.335,130.987z"})),s.createElement("path",{style:{fill:"#86DAF1"},d:"M308.951,88.347l35.313-8.828l26.485,8.828l44.141,8.828l26.485-17.656 c14.787,15.476,27.544,32.77,37.961,51.468l-2.648,1.501l-52.969,17.656l-52.969-8.828l-17.656-26.485h-52.969l-26.485,26.485 l8.828,61.797l61.797,26.485l35.313-8.828l26.485,17.656v35.313l17.656,35.313l17.656,35.313v35.313l23.836,23.836 c-81.528,115.526-241.275,143.079-356.792,61.55C10.311,395.815-26.494,267.691,19.916,156.942l15.361,46.171l26.485,17.656 l26.485,17.656L70.59,256.082v26.485l17.656,35.313l44.141,8.828v88.282l17.656,44.141l26.485,8.828v-44.141l35.313-26.485v-26.485 l35.313-35.313l8.828-44.141h-35.313l-26.485-44.141h-61.797l-17.656-35.313l-26.485,26.485v-35.313L70.59,185.457v-26.485 l61.797-8.828l44.141-26.485l26.485-44.141l26.485-8.828l8.828-26.485l-52.969-8.828l-25.072-16.774 c67.889-27.341,144.235-24.322,209.758,8.299l-34.607,17.303h-35.313l-17.656,35.313L308.951,88.347z"}),T||(T=s.createElement("g",null)),P||(P=s.createElement("g",null)),E||(E=s.createElement("g",null)),L||(L=s.createElement("g",null)),R||(R=s.createElement("g",null)),H||(H=s.createElement("g",null)),q||(q=s.createElement("g",null)),W||(W=s.createElement("g",null)),F||(F=s.createElement("g",null)),z||(z=s.createElement("g",null)),J||(J=s.createElement("g",null)),Z||(Z=s.createElement("g",null)),V||(V=s.createElement("g",null)),X||(X=s.createElement("g",null)),B||(B=s.createElement("g",null)))}var Q=s.forwardRef(K),$=(r.p,r(34)),ee=r(4),te=r(17),re=r(9),se=(r(27),r.p+"static/media/color-map.73948584.png");var ne=function(e){var t,r,n=e.addLat,l=e.addLng,c=e.setAddLat,A=e.setAddLng,o=e.refreshMarkers,i=e.setRefreshMarkers,g=e.setCurrentMarker,d=Object(s.useContext)(Ze).user,u=Object(s.useContext)(Ve).token,m=Object(te.a)(),C=m.register,j=m.handleSubmit,b=m.formState.errors,I=m.reset,f=function(){return re.b.success("Added Place successfully!",{closeOnClick:!0,draggable:!0,progress:void 0})},h=function(){return re.b.error("An error occured, please try again",{closeOnClick:!0,draggable:!0,progress:void 0})};return Object(a.jsxs)("section",{className:"hidden shadow-inner md:w-1/4 md:h-full p-4 md:flex flex-col items-center justify-center bg-gray-800 text-white",children:[Object(a.jsx)(re.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsxs)("figure",{className:"flex flex-col items-center mb-12",children:[Object(a.jsx)("figcaption",{className:"mb-5",children:"Share your place with others!"}),Object(a.jsx)("img",{src:se,alt:"color-map",className:"w-1/2"})]}),Object(a.jsxs)("form",{className:"flex flex-col gap-10 w-full",encType:"multipart/form-data",onSubmit:j((function(e){var t={user:null===d||void 0===d?void 0:d._id,lat:n,lng:l,name:e.name,description:e.description,imgUrl:e.imgUrl};0===e.imgUrl.length&&delete t.imgUrl,fetch("https://mappals.herokuapp.com/marker/create",{method:"POST",headers:new Headers({Authorization:"token ".concat(u),"Content-Type":"application/json"}),body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.err?h():(f(),g(e),c(null),A(null),i(!o))})),I()})),children:[Object(a.jsxs)("div",{className:"flex flex-col",children:[Object(a.jsx)("input",Object(ee.a)(Object(ee.a)({},C("name",{required:!0})),{},{className:"border-2 border-fb-blue rounded-md focus-outline-blue text-black p-2 text-sm",autoComplete:"off",placeholder:"Place's name"})),"required"===(null===(t=b.name)||void 0===t?void 0:t.type)&&Object(a.jsx)("span",{className:"form-err-msg mt-1",children:"You must give a name to the place"})]}),Object(a.jsxs)("div",{className:"flex flex-col",children:[Object(a.jsx)("textarea",Object(ee.a)(Object(ee.a)({},C("description",{required:!0})),{},{placeholder:"Place's description",className:"border-2 border-fb-blue rounded-md focus-outline-blue text-black p-1 text-sm",rows:"4",style:{maxWidth:"100%",maxHeight:"110px"}})),"required"===(null===(r=b.description)||void 0===r?void 0:r.type)&&Object(a.jsx)("span",{className:"form-err-msg mt-1",children:"You must give a description to the place"})]}),Object(a.jsxs)("div",{className:"flex flex-col bg-gray-900 py-4 text-sm  p-4",children:[Object(a.jsx)("label",{className:"mb-2",children:"Image URL of the place (optional):"}),Object(a.jsx)("input",Object(ee.a)(Object(ee.a)({},C("imgUrl")),{},{className:"border-2 border-fb-blue rounded-md focus-outline-blue text-black p-1 text-sm",autoComplete:"off"}))]}),Object(a.jsx)("button",{className:"text-green-400 animate-pulse",children:"Add Place"})]})]})},le=r(50),ce=r(33),Ae=r(43);var ae=function(e){var t=Object(s.useState)(null),r=Object(C.a)(t,2),n=r[0],l=r[1],c=Object(s.useState)(null),A=Object(C.a)(c,2),a=A[0],o=A[1],i=Object(s.useState)(!1),g=Object(C.a)(i,2),d=g[0],u=g[1];return Object(s.useEffect)((function(){fetch(e).then((function(e){if(!e.ok)throw Error("could not fetch data");return e.json()})).then((function(e){return l(e)})).catch((function(e){return o(e)}))}),[e,d]),{data:n,setData:l,error:a,setError:o,refresh:d,setRefresh:u}};var oe=function(e){var t,r=e.user,s=e.token,l=e.notifyError,c=e.currentMarker,A=n.a.useState(!1),o=Object(C.a)(A,2),i=o[0],g=o[1],m=ae("https://mappals.herokuapp.com/marker/".concat(c._id,"/comments")),j=m.data,b=m.error,I=m.refresh,f=m.setRefresh,h=Object(te.a)(),x=h.register,p=h.handleSubmit,O=h.formState.errors,v=h.reset,w=function(e){e.target.src=u};return Object(a.jsxs)("section",{className:"border-t-2 border-grey-700 mt-5 py-2",children:[Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)("h3",{className:"w-full font-semibold text-fb-blue-light",children:"Comments:"}),i?Object(a.jsx)(Ae.a,{onClick:function(){return g(!i)},className:"text-white cursor-pointer font-semibold rounded-full bg-fb-blue-light"}):Object(a.jsxs)("div",{onClick:function(){return g(!i)},className:"flex items-center cursor-pointer",children:[Object(a.jsx)("span",{className:"font-semibold mr-2 text-sm",children:"Add"}),Object(a.jsx)(le.a,{className:"text-fb-blue-light font-bold"})]})]}),i&&Object(a.jsxs)("form",{className:" flex flex-col mt-1",onSubmit:p((function(e){var t={marker:c._id,user:r._id,content:e.content};fetch("https://mappals.herokuapp.com/marker/".concat(c._id,"/comment/create"),{method:"POST",headers:new Headers({Authorization:"token ".concat(s),"Content-Type":"application/json"}),body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.err?l():(v(),g(!1),f(!I))}))})),children:[Object(a.jsx)("input",Object(ee.a)(Object(ee.a)({},x("content",{required:!0})),{},{className:"p-1 outline-none border-b-2 border-fb-blue-light text-sm",autoComplete:"off",placeholder:"add comment"})),Object(a.jsxs)("div",{className:"flex items-center",children:["required"===(null===(t=O.content)||void 0===t?void 0:t.type)&&Object(a.jsx)("span",{className:"form-err-msg w-full",style:{fontSize:"12px"},children:"You must enter a comment"}),Object(a.jsx)("button",{className:"ml-auto ",children:Object(a.jsx)(Ae.b,{className:"text-fb-blue-light text-base"})})]})]}),b&&Object(a.jsx)("div",{className:"my-16 animate-pulse",children:Object(a.jsxs)("h1",{className:"text-red-600 text-center",children:["An error occured while loading comments.",Object(a.jsx)("br",{})," Please try again later"]})}),j&&j.length>0?null:Object(a.jsx)("h1",{className:"text-center font-bold text-base my-10 ".concat(b&&"hidden"),children:"There are no comments yet"}),j&&j.map((function(e){var t;return Object(a.jsxs)("div",{className:"flex gap-2 items-center my-7 group",children:[Object(a.jsx)(d.b,{to:"/profile/".concat(e.user._id),children:Object(a.jsx)("img",{src:"".concat(e.user.imgUrl),onError:w,alt:"profile-pic",className:"w-6 rounded-full shadow-lg"})}),Object(a.jsxs)("div",{className:"bg-blue-100 rounded-lg shadow-sm p-2 pl-3 my-2 flex flex-col w-full relative",children:[Object(a.jsx)(d.b,{to:"/profile/".concat(e.user._id),className:"text-xs font-semibold text-fb-blue-light",children:e.user.username}),Object(a.jsx)("p",{children:e.content}),Object(a.jsxs)("div",{className:"absolute text-xs -bottom-5",children:[Object(a.jsxs)("span",{className:"cursor-pointer hover:text-fb-blue-light",onClick:function(){return function(e){e.likes.includes(r._id)?e.likes.splice(e.likes.indexOf(r._id),1):e.likes.push(r._id),fetch("https://mappals.herokuapp.com/marker/comment/".concat(e._id,"/like"),{method:"PATCH",headers:new Headers({Authorization:"token ".concat(s),"Content-Type":"application/json"}),body:JSON.stringify({likes:e.likes})}).then((function(e){return e.json()})).then((function(e){e.err})),f(!I)}(e)},children:[" ",e.likes.includes(r._id)?"Unlike":"Like"," "]}),"|",Object(a.jsxs)("span",{children:[" ",e.time_since_post," "]}),(null===r||void 0===r?void 0:r._id)===(null===(t=e.user)||void 0===t?void 0:t._id)&&Object(a.jsx)("span",{onClick:function(){return t=e._id,void fetch("https://mappals.herokuapp.com/marker/comment/".concat(t,"/delete"),{method:"DELETE",headers:new Headers({Authorization:"token ".concat(s),"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){e.err?l():f(!I)}));var t},className:"text-xs opacity-0 group-hover:opacity-100 cursor-pointer text-red-600",children:"| delete"})]}),Object(a.jsxs)("div",{className:"absolute flex items-center right-2 -bottom-2 bg-fb-blue-light rounded-lg p-1 text-white",style:{fontSize:"11px"},children:[Object(a.jsx)(ce.a,{}),Object(a.jsx)("span",{children:e.likes.length})]})]})]},e._id)}))]})},ie=r(51);var ge=function(e){var t,r=e.user,s=e.token,n=e.notifyDeleted,l=e.notifyError,c=e.currentMarker,A=e.refreshMarkers,o=e.setRefreshMarkers,g=e.setCurrentMarker;return Object(a.jsxs)("div",{className:"flex w-full mb-3",children:[Object(a.jsx)("h1",{className:"text-2xl font-semibold text-fb-blue-light w-full",children:c.name}),Object(a.jsxs)("div",{className:"flex items-center gap-4 justify-end ",children:[Object(a.jsxs)("figure",{onClick:function(){c.likes.includes(r._id)?c.likes.splice(c.likes.indexOf(r._id),1):c.likes.push(r._id),fetch("https://mappals.herokuapp.com/marker/".concat(c._id,"/like"),{method:"PATCH",headers:new Headers({Authorization:"token ".concat(s),"Content-Type":"application/json"}),body:JSON.stringify({likes:c.likes})}).then((function(e){return e.json()})).then((function(e){e.err&&l()})),o(!A)},className:"flex items-center text-lg cursor-pointer\n            ".concat(c.likes.includes(r._id)&&"text-fb-blue-light"),children:[Object(a.jsx)(ce.a,{}),Object(a.jsx)("figcaption",{children:c.likes.length})]}),Object(a.jsx)(ie.a,{onClick:function(){r.bookmarks.includes(c._id)?r.bookmarks.splice(r.bookmarks.indexOf(c._id),1):r.bookmarks.push(c._id),fetch("https://mappals.herokuapp.com/marker/".concat(r._id,"/bookmark"),{method:"PATCH",headers:new Headers({Authorization:"token ".concat(s),"Content-Type":"application/json"}),body:JSON.stringify({bookmarks:r.bookmarks})}).then((function(e){return e.json()})).then((function(e){e.err&&l()})),o(!A)},className:"text-lg cursor-pointer ".concat(r.bookmarks.includes(c._id)&&"text-fb-blue-light")}),(null===r||void 0===r?void 0:r._id)===(null===(t=c.user)||void 0===t?void 0:t._id)&&Object(a.jsx)(i.d,{onClick:function(){fetch("https://mappals.herokuapp.com/marker/".concat(c._id,"/delete"),{method:"DELETE",headers:new Headers({Authorization:"token ".concat(s),"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){e.err?l():(n(),o(!A),g({}))}))},className:"text-md text-red-600 cursor-pointer"})]})]})};var de=function(e){var t=e.currentMarker,r=e.refreshMarkers,n=e.setRefreshMarkers,l=e.setCurrentMarker,c=Object(s.useContext)(Ze).user,A=Object(s.useContext)(Ve).token,o=function(){return re.b.error("An error occured with the server",{closeOnClick:!0,draggable:!0,progress:void 0})};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsxs)("section",{className:"hidden shadow-inner md:w-1/4 md:h-full md:flex flex-col bg-white text-gray-800 max-h-90 overflow-scroll overflow-x-hidden",children:[Object(a.jsx)("img",{src:"".concat(t.imgUrl),onError:function(e){e.target.src=x},alt:"place",className:"shadow-lg mb-3 w-full object-cover rounded-sm"}),Object(a.jsxs)("div",{className:"p-2",children:[Object(a.jsx)(ge,{user:c,token:A,notifyDeleted:function(){return re.b.success("You removed ".concat(null===t||void 0===t?void 0:t.name," !"),{closeOnClick:!0,draggable:!0,progress:void 0})},notifyError:o,currentMarker:t,refreshMarkers:r,setRefreshMarkers:n,setCurrentMarker:l}),Object(a.jsxs)("div",{className:"text-xs flex gap-2 justify-end text-gray-600",children:[Object(a.jsxs)(d.b,{to:"/profile/".concat(t.user._id),className:"flex items-center gap-1",children:[Object(a.jsx)("h2",{children:t.user.username}),Object(a.jsx)("img",{src:"".concat(t.user.imgUrl),onError:function(e){e.target.src=u},alt:"profile-pic",className:"w-6 rounded-full shadow-md"}),Object(a.jsx)("p",{children:"|"})]}),Object(a.jsx)("span",{className:"flex items-center",children:t.post_date_formatted})]}),Object(a.jsx)(oe,{user:c,token:A,notifyError:o,currentMarker:t})]})]})]})};var ue=function(e){var t=e.refreshMarkers,r=e.setRefreshMarkers,n=Object(s.useContext)(me),l=n.currentMarker,c=n.setCurrentMarker,A=Object(s.useContext)(Ce),o=A.addLat,i=A.addLng,g=A.setAddLat,d=A.setAddLng;return"{}"!==JSON.stringify(l)||o?Object(a.jsxs)(a.Fragment,{children:["{}"===JSON.stringify(l)?null:Object(a.jsx)(de,{currentMarker:l,setCurrentMarker:c,refreshMarkers:t,setRefreshMarkers:r}),o&&Object(a.jsx)(ne,{addLat:o,addLng:i,setAddLat:g,setAddLng:d,refreshMarkers:t,setRefreshMarkers:r,setCurrentMarker:c})]}):Object(a.jsxs)("section",{className:"hidden shadow-inner md:flex md:w-1/4 md:h-full p-2 py-4 text-lg flex-col gap-12 justify-center items-center text-center bg-gray-800 text-white",children:[Object(a.jsxs)("h1",{children:["Add you favorite places to the ",Object(a.jsx)("span",{className:"text-fb-blue-light",children:"Map"})," with just a click!"]}),Object(a.jsx)($.a,{className:"hidden md:block animate-bounce text-fb-blue-light"}),Object(a.jsx)(Q,{className:"hidden md:block w-1/4 md:w-1/2"}),Object(a.jsxs)("h2",{children:["To see your ",Object(a.jsx)("span",{className:"text-fb-blue-light",children:"Friends'"})," places, click on the marker"]})]})},me=n.a.createContext(),Ce=n.a.createContext();var je=function(){var e=Object(s.useContext)(Ze).user,t=Object(g.f)(),r=ae("https://mappals.herokuapp.com/markers/user/friends/".concat(e._id)),n=r.data,l=r.error,c=r.refresh,A=r.setRefresh;Object(s.useEffect)((function(){return console.log(n)}),[n]);var o=Object(s.useState)({}),i=Object(C.a)(o,2),d=i[0],u=i[1],m=Object(s.useState)(null),j=Object(C.a)(m,2),b=j[0],I=j[1],f=Object(s.useState)(null),h=Object(C.a)(f,2),x=h[0],p=h[1];return e||t.push("/"),l&&re.b.error("Error while retrieving data from the server, sorry for the inconvenience",{closeOnClick:!0,draggable:!0,progress:void 0}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsx)("article",{className:"flex-grow md:flex",children:Object(a.jsx)(me.Provider,{value:{currentMarker:d,setCurrentMarker:u,allMarkers:n},children:Object(a.jsxs)(Ce.Provider,{value:{addLat:b,addLng:x,setAddLat:I,setAddLng:p},children:[Object(a.jsx)(ue,{refreshMarkers:c,setRefreshMarkers:A}),Object(a.jsx)(Y,{})]})})})]})},be=r.p+"static/media/worldwide.82e95fdd.svg",Ie=r(35),fe=r.p+"static/media/mvc.d71aa51c.gif",he=r(80);var xe=function(){return Object(a.jsxs)("article",{className:"w-full h-max bg-gray-800 text-white tracking-wide flex flex-col flex-grow",children:[Object(a.jsxs)("section",{className:"w-full flex flex-col items-center justify-center gap-8 my-12 md:my-auto md:px-7 h-3/5",style:{maxHeight:"280px"},children:[Object(a.jsxs)("h1",{className:"text-4xl font-bold",children:["Welcome to ",Object(a.jsx)("span",{className:"text-fb-blue-light",children:"MapPals"})," !"]}),Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)("p",{className:"font-bold text-lg",children:"MapPals is a community where you can share your favorite places with your friends"}),Object(a.jsxs)("p",{className:"text-sm margin-t-3 md:margin-0 hidden md:block",children:[Object(a.jsx)(d.b,{to:"/signup",className:"text-green-custom transition hover:text-green-custom-darker",children:"Sign up"}),", or If you already have an account"," ",Object(a.jsx)(d.b,{to:"/login",className:"text-green-custom transition hover:text-green-custom-darker",children:"Log in here"})]})]})]}),Object(a.jsxs)("section",{className:"w-full flex flex-col md:flex-row mb-10 border-t-2 border-white md:border-t-0",children:[Object(a.jsxs)("div",{className:"w-full md:w-1/2 p-2 pl-7 flex flex-col items-center",children:[Object(a.jsx)("h1",{className:"text-fb-blue-light font-bold",children:"Mark whatever places you want"}),Object(a.jsxs)("ul",{className:"ml-4 text-sm child list-items-margin border-l-2 border-white p-3",children:[Object(a.jsxs)("li",{children:["...",he.getUnicode(":spaghetti:")," a great place to eat out "]}),Object(a.jsxs)("li",{children:["...",he.getUnicode(":bike:")," an exciting cycling route"]}),Object(a.jsxs)("li",{children:["...",he.getUnicode(":coffee:"),he.getUnicode(":book:")," a quiet coffee shop to study"]}),Object(a.jsxs)("li",{children:["...",he.getUnicode(":beers:")," your favorite spot to meet with your friends"]}),Object(a.jsxs)("li",{children:["...",he.getUnicode(":gem:")," a hidden gem no one knows about"]}),Object(a.jsxs)("li",{children:["...",he.getUnicode(":dragon_face:")," an area where there are lots of rare Pokemons"]}),Object(a.jsxs)("li",{children:["...",he.getUnicode(":no_entry_sign:")," or a place people should avoid"]})]}),Object(a.jsx)("h2",{className:"ml-5 text-fb-blue-light",children:"really, anything"})]}),Object(a.jsx)("div",{className:"w-full md:w-1/2 p-2 flex justify-center md:justify-start",children:Object(a.jsx)("img",{src:fe,alt:"preview",className:"w-full md:w-2/3 rounded-sm shadow-lg border-2 border-white"})})]}),Object(a.jsxs)("section",{className:"w-full py-2 mb-2",children:[Object(a.jsx)("h1",{className:"text-center text-sm mb-2",children:"Made with:"}),Object(a.jsxs)("ul",{className:"flex tech-logo-list text-3xl",children:[Object(a.jsx)("li",{children:Object(a.jsx)(Ie.c,{style:{color:"#40c9ed"}})}),Object(a.jsx)("li",{children:Object(a.jsx)(Ie.a,{style:{color:"#61BA9E"}})}),Object(a.jsx)("li",{children:Object(a.jsx)(i.c,{style:{color:"#61DBFB"}})}),Object(a.jsx)("li",{children:Object(a.jsx)(i.b,{style:{color:"#68A063"}})}),Object(a.jsx)("li",{children:Object(a.jsx)(Ie.b,{style:{color:"#589636"}})})]})]})]})};var pe=function(){var e,t,r,n=Object(te.a)(),l=n.register,c=n.handleSubmit,A=n.formState.errors,o=Object(s.useState)(""),d=Object(C.a)(o,2),u=d[0],m=d[1],j=Object(s.useState)(""),b=Object(C.a)(j,2),I=b[0],f=b[1],h=Object(s.useState)(!1),x=Object(C.a)(h,2),p=x[0],O=x[1],v=Object(g.f)(),w=Object(g.g)();Object(s.useEffect)((function(){var e;O(null===(e=w.state)||void 0===e?void 0:e.showNotification)}),[w]),Object(s.useEffect)((function(){p&&re.b.success("Signed up successfully! You can now Login to your account",{position:"top-center",autoClose:7e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),[p]);var k=Object(s.useContext)(Ze).addUser,N=Object(s.useContext)(Ve).addToken;return Object(a.jsxs)("section",{className:"w-full h-full flex justify-center bg-gray-100",children:[Object(a.jsx)(re.a,{newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsxs)("form",{className:"flex flex-col items-center p-5 self-center w-4/5 md:w-2/5 lg:w-3/10 rounded-lg shadow-md min-h-3/4 justify-center bg-white",onSubmit:c((function(e){fetch("https://mappals.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if(e.errors){var t=e.errors,r=t.username,s=t.password;m(r),f(s),console.log(I,u)}else N(e.token),k(e.user),v.push("/map")}))})),children:[Object(a.jsxs)("h1",{className:"text-center mb-12 text-2xl flex items-center gap-2 font-bold",children:["Login to MapPals ",Object(a.jsx)(i.a,{className:"pb-1 text-fb-blue-light"})]}),Object(a.jsxs)("div",{className:"flex flex-col my-3 w-2/3 items-center",children:[Object(a.jsx)("input",Object(ee.a)({className:"form-input-field blue-underline-input",defaultValue:null===(e=w.state)||void 0===e?void 0:e.username,placeholder:"Username",autoComplete:"off"},l("username",{required:!0}))),"required"===(null===(t=A.username)||void 0===t?void 0:t.type)&&Object(a.jsx)("span",{className:"form-err-msg",children:"username is required"}),u.length>0&&Object(a.jsx)("span",{className:"form-err-msg",children:u})]}),Object(a.jsxs)("div",{className:"flex flex-col my-5 w-2/3 items-center",children:[Object(a.jsx)("input",Object(ee.a)({type:"password",autoComplete:"off",className:"form-input-field blue-underline-input",placeholder:"Password"},l("password",{required:!0}))),"required"===(null===(r=A.password)||void 0===r?void 0:r.type)&&Object(a.jsx)("span",{className:"form-err-msg",children:"password is required"}),I.length>0&&Object(a.jsx)("span",{className:"form-err-msg",children:I})]}),Object(a.jsx)("button",{className:"bg-green-custom mt-3 text-white w-1/2 p-3 rounded-md font-sm text-xl shadow-md transition hover:bg-green-custom-darker",children:"Login"})]})]})};var Oe=function(){var e,t,r,n,l=Object(te.a)(),c=l.register,A=l.handleSubmit,o=l.formState.errors,i=Object(s.useState)(""),d=Object(C.a)(i,2),u=d[0],m=d[1],j=Object(s.useState)(""),b=Object(C.a)(j,2),I=b[0],f=b[1],h=Object(g.f)();return Object(a.jsx)("section",{className:"w-full h-full flex justify-center bg-gray-100",children:Object(a.jsxs)("form",{className:"bg-white flex flex-col p-5 self-center w-4/5 md:w-2/5 lg:w-3/10 rounded-lg shadow-md min-h-3/4 items-center justify-center",onSubmit:A((function(e){fetch("https://mappals.herokuapp.com/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if(e.errors){var t=e.errors,r=t.username,s=t.password;m(r),f(s),setTimeout((function(){m(""),f("")}),3e3)}else h.push({pathname:"/login",state:{showNotification:!0,username:e.user.username}})}))})),children:[Object(a.jsx)("h1",{className:"text-center text-2xl mb-2 font-semibold",children:"Join to MapPals"}),Object(a.jsx)("img",{src:be,alt:"logo earth",className:"w-32 mb-3 animate-spin-slow"}),Object(a.jsxs)("div",{className:"flex flex-col my-2 w-2/3 items-center",children:[Object(a.jsx)("input",Object(ee.a)({className:"form-input-field blue-underline-input",autoComplete:"off",placeholder:"Create Username"},c("username",{required:!0,minLength:3}))),"required"===(null===(e=o.username)||void 0===e?void 0:e.type)&&Object(a.jsx)("span",{className:"form-err-msg","data-testid":"errMsgUsernameRequired",children:"username is required"}),"minLength"===(null===(t=o.username)||void 0===t?void 0:t.type)&&Object(a.jsx)("span",{className:"form-err-msg","data-testid":"errMsgUsernameLength",children:"username must be at least 3 characters"}),u.length>0&&Object(a.jsx)("span",{className:"form-err-msg",children:u})]}),Object(a.jsxs)("div",{className:"flex flex-col my-2 w-2/3 items-center",children:[Object(a.jsx)("input",Object(ee.a)({type:"password",autoComplete:"off",placeholder:"Create Password",className:"form-input-field blue-underline-input"},c("password",{required:!0,minLength:3}))),"required"===(null===(r=o.password)||void 0===r?void 0:r.type)&&Object(a.jsx)("span",{className:"form-err-msg","data-testid":"errMsgPswRequired",children:"password is required"}),"minLength"===(null===(n=o.password)||void 0===n?void 0:n.type)&&Object(a.jsx)("span",{className:"form-err-msg",children:"password must be at least 3 characters"}),I.length>0&&Object(a.jsx)("span",{className:"form-err-msg",children:I})]}),Object(a.jsx)("div",{className:"flex flex-col my-2 w-2/3 items-center blue-underline-input text-sm",children:Object(a.jsx)("input",Object(ee.a)({autoComplete:"off",className:"form-input-field blue-underline-input",placeholder:"Profile Image URL (OPTIONAL)"},c("imgUrl")))}),Object(a.jsx)("button",{className:"bg-green-custom mt-5 text-white w-1/2 p-3 rounded-md font-sm text-lg shadow-md transition hover:bg-green-custom-darker",children:"Sign Up"})]})})};var ve=function(){var e=Object(s.useState)(JSON.parse(localStorage.getItem("user"))),t=Object(C.a)(e,2),r=t[0],n=t[1];return{addUser:function(e){localStorage.setItem("user",JSON.stringify(e)),n(e)},user:r,removeUser:function(){localStorage.removeItem("user"),n(null)},setUser:n}};var we=function(){var e=Object(s.useState)(JSON.parse(localStorage.getItem("token"))),t=Object(C.a)(e,2),r=t[0],n=t[1];return{addToken:function(e){localStorage.setItem("token",JSON.stringify(e)),n(e)},token:r,removeToken:function(){localStorage.removeItem("token"),n(null)}}},ke=r(11);var Ne=function(e){var t=e.profile,r=e.user,s=e.setUser,n=e.notifyError,l=e.refreshUsers,c=e.setRefreshUsers,A=e.token;return Object(a.jsxs)("div",{className:"text-xs cursor-pointer flex items-center justify-end font-bold text-white bg-green-custom-darker hover:bg-green-custom gap-1 p-1 rounded-sm",onClick:function(){r.friends.push(t._id);var e=r.friendRequests.filter((function(e){return e._id!==String(t._id)}));t.friends.push(r._id);var a=Object(ke.a)(new Set(t.friends));fetch("https://mappals.herokuapp.com/user/".concat(r._id,"/").concat(t._id),{method:"PATCH",headers:new Headers({Authorization:"token ".concat(A),"Content-Type":"application/json"}),body:JSON.stringify({friendsReceiver:r.friends,friendRequestsReceiver:e,friendsSender:a})}).then((function(e){return e.json()})).then((function(e){e.err?(console.log(e.err),n()):(c(!l),s(e))}))},children:[Object(a.jsx)("p",{children:"Accept"}),Object(a.jsx)(i.e,{})]})};var ye=function(e){var t=e.profile,r=e.user,s=e.setUser,n=e.notifyError,l=e.refreshUsers,c=e.setRefreshUsers,A=e.token;return Object(a.jsxs)("div",{className:"text-xs cursor-pointer flex items-center justify-end font-bold text-white bg-red-500 hover:bg-red-600 gap-1 p-1 rounded-sm",onClick:function(){var e=r.friendRequests.filter((function(e){return e._id!==String(t._id)}));fetch("https://mappals.herokuapp.com/user/".concat(r._id,"/").concat(t._id,"/decline"),{method:"PATCH",headers:new Headers({Authorization:"token ".concat(A),"Content-Type":"application/json"}),body:JSON.stringify({friendRequestsReceiver:e})}).then((function(e){return e.json()})).then((function(e){e.err?(console.log(e.err),n()):(c(!l),s(e))}))},children:[Object(a.jsx)("p",{children:"Decline"}),Object(a.jsx)(i.h,{})]})};var Se=function(e){var t=e.profile,r=e.user,s=e.notifyError,n=e.refreshUsers,l=e.setRefreshUsers,c=e.token;return Object(a.jsxs)("div",{className:"friendController hover:bg-blue-600",onClick:function(){t.friendRequests.includes(r._id)||t.friendRequests.push(r._id),fetch("https://mappals.herokuapp.com/user/".concat(t._id,"/sendFR"),{method:"PATCH",headers:new Headers({Authorization:"token ".concat(c),"Content-Type":"application/json"}),body:JSON.stringify({friendRequests:t.friendRequests})}).then((function(e){return e.json()})).then((function(e){e.err?s():l(!n)}))},children:[Object(a.jsx)("p",{children:"Add"}),Object(a.jsx)(i.g,{})]})};var Me=function(e){var t,r=e.profile,s=e.user,n=function(e,t){return null===e||void 0===e?void 0:e.some((function(e){return e._id===String(t)}))};return t=(null===s||void 0===s?void 0:s._id)===r._id?null:n(null===s||void 0===s?void 0:s.friendRequests,r._id)?Object(a.jsxs)("div",{className:"flex flex-row gap-2 justify-end",children:[Object(a.jsx)(ye,Object(ee.a)({},e)),Object(a.jsx)(Ne,Object(ee.a)({},e))]}):n(null===s||void 0===s?void 0:s.friends,r._id)?Object(a.jsxs)("div",{className:"friendController",children:[" Friends ",Object(a.jsx)(i.e,{})]}):n(r.friendRequests,null===s||void 0===s?void 0:s._id)?Object(a.jsxs)("div",{className:"friendController",children:[Object(a.jsx)("p",{children:"Sent"}),Object(a.jsx)(i.f,{})]}):Object(a.jsx)(Se,Object(ee.a)({},e)),Object(a.jsxs)("div",{className:"w-full bg-blue-100 md:w-2/5 xl:w-3/10 my-3 flex items-center p-5 rounded shadow-smd transition transform hover:bg-blue-200",children:[Object(a.jsxs)(d.b,{to:"/profile/".concat(r._id),className:"flex items-center gap-3 w-full",children:[Object(a.jsx)("img",{src:"".concat(r.imgUrl),onError:function(e){e.target.src=u},alt:"profile pic",className:"w-8 rounded-full shadow-md"}),Object(a.jsx)("h1",{className:"font-semibold",children:r.username})]}),t]})};var Ue=function(){var e=Object(s.useContext)(Ze),t=e.user,r=e.setUser,n=Object(s.useContext)(Ve).token,l=Object(s.useState)(""),c=Object(C.a)(l,2),A=c[0],o=c[1],i=ae("https://mappals.herokuapp.com/users"),g=i.data,m=i.refresh,j=i.setRefresh,b=null===g||void 0===g?void 0:g.filter((function(e){return e.username.toLowerCase().includes(A.toLowerCase())})),I=function(){return re.b.error("An error occured with the server",{closeOnClick:!0,draggable:!0,progress:void 0})},f=function(e){e.target.src=u};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsx)("article",{className:"flex-grow flex flex-col p-4 items-center",children:Object(a.jsxs)("div",{className:"w-full md:w-4/5",children:[Object(a.jsx)("section",{className:"w-full p-2 flex items-center justify-center",children:Object(a.jsxs)("div",{className:"text-black p-1 text-sm w-1/2 flex items-center mt-4",children:[Object(a.jsx)("input",{onChange:function(e){return o(e.target.value)},value:A,placeholder:"Search MapPals",className:"border-b-2 border-fb-blue rounded-sm outline-none w-full pl-2 blue-underline-input"}),Object(a.jsx)($.b,{className:"text-gray-400 -ml-4 mb-1"})]})}),Object(a.jsxs)("section",{className:"mt-4 mb-7 flex flex-col items-center",children:[Object(a.jsx)("h1",{className:"text-gray-500 italic self-start mb-3",children:"Friend requests"}),Object(a.jsx)("div",{className:"flex gap-10",children:t&&t.friendRequests.length>0?t.friendRequests.map((function(e){return Object(a.jsx)("div",{children:Object(a.jsxs)(d.b,{to:"/profile/".concat(e._id),className:"flex flex-wrap items-center gap-2 font-semibold rounded bg-fb-blue-light text-white text-sm py-2 px-4 shadow-md",children:[Object(a.jsx)("img",{src:"".concat(e.imgUrl),onError:f,alt:"profile pic",className:"w-6 rounded-full shadow-md"}),Object(a.jsx)("p",{children:e.username})]})},e._id)})):Object(a.jsx)("span",{className:"text-blue-400",children:"You have no pending friend requests"})})]}),Object(a.jsx)("h1",{className:"text-gray-500 italic w-full border-t-2 border-gray-300 pt-2",children:"MapPals community:"}),Object(a.jsx)("div",{className:"flex flex-wrap mt-6 md:ml-4 lg:ml-12 gap-2",children:b&&b.length>0?b.map((function(e){return Object(a.jsx)(Me,{user:t,setUser:r,profile:e,token:n,notifyError:I,refreshUsers:m,setRefreshUsers:j},e._id)})):Object(a.jsxs)("p",{className:"italic text-gray-600 mt-10",children:['there is no user "',A,'"']})})]})})]})};var Te=function(){return Object(a.jsxs)("article",{className:"flex-grow flex flex-col items-center justify-center font-semibold gap-10 text-shadow-sm",children:[Object(a.jsx)("h1",{className:"text-3xl",children:"Error 404"}),Object(a.jsx)("img",{src:be,alt:"earth",className:"w-56 shadow-lg rounded-full"}),Object(a.jsx)("h2",{className:"text-lg mx-4 md:text-2xl",children:"We couldn't find the user you're looking for"})]})},Pe=r(52);var Ee=function(e){var t=e.setIsUpdateMode,r=e.userFromServer,s=e.token,n=e.user,l=e.notifyError,c=e.refresfUserFS,A=e.setRefreshUserFS,o=Object(te.a)(),i=o.register,g=o.handleSubmit,d=o.reset;return Object(a.jsxs)("form",{onSubmit:g((function(e){var r={city:e.city,bio:e.bio,imgUrl:e.imgUrl};fetch("https://mappals.herokuapp.com/user/".concat(n._id,"/info"),{method:"PATCH",headers:new Headers({Authorization:"token ".concat(s),"Content-Type":"application/json"}),body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){e.err?l():(t(!1),A(!c),localStorage.setItem("user",JSON.stringify(e)))}))})),className:"flex flex-col gap-5",children:[Object(a.jsxs)("div",{className:"flex gap-4",children:[Object(a.jsx)("input",Object(ee.a)({className:"blue-underline-input bg-gray-100 rounded-sm p-1 w-1/2",defaultValue:r.city,placeholder:"Your City",autoComplete:"off"},i("city"))),Object(a.jsx)("input",Object(ee.a)({className:"blue-underline-input bg-gray-100 rounded-sm p-1 w-1/2",defaultValue:r.imgUrl,placeholder:"Profil IMG url",autoComplete:"off"},i("imgUrl")))]}),Object(a.jsx)("textarea",Object(ee.a)({className:"blue-underline-input bg-gray-100 rounded-sm p-1 w-full max-h-24",defaultValue:r.bio,placeholder:"Tell something about yourself",autoComplete:"off"},i("bio"))),Object(a.jsxs)("div",{className:"flex gap-2 w-full justify-end",children:[Object(a.jsx)("div",{onClick:function(){t(!1),d()},className:"cursor-pointer bg-red-500 text-white font-semibold p-1 rounded-sm text-sm",children:"Cancel"}),Object(a.jsx)("button",{className:"bg-fb-blue text-white font-semibold p-1 rounded-sm text-sm",children:"Update"})]})]})};var Le=function(e){var t,r,n=e.userFromServer,l=e.user,c=e.token,A=e.refreshUserFS,o=e.setRefreshUserFS,i=Object(s.useState)(!1),g=Object(C.a)(i,2),d=g[0],u=g[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re.a,{newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsxs)("section",{className:"p-4 md:self-start border-l-2 border-r-2 border-fb-blue-light w-full lg:w-1/2",children:[d?Object(a.jsx)(Ee,{setIsUpdateMode:u,notifyError:function(){return re.b.error("Something's wrong with the servers",{position:"top-center",autoClose:4e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},userFromServer:n,token:c,user:l,refreshUserFS:A,setRefreshUserFS:o}):Object(a.jsxs)("div",{className:"flex gap-7 mb-5",children:[Object(a.jsxs)("ul",{className:"text-fb-blue-light flex flex-col gap-3",children:[Object(a.jsx)("li",{children:"CITY: "}),Object(a.jsx)("li",{children:"BIO: "}),Object(a.jsx)("li",{children:"JOINED: "})]}),Object(a.jsxs)("ul",{className:"flex flex-col gap-3 justify-center",children:[Object(a.jsx)("li",{className:"capitalize",children:(null===(t=n.city)||void 0===t?void 0:t.length)>0?n.city:Object(a.jsx)("p",{className:"text-gray-500 italic font-normal",children:"Somewhere nice"})}),Object(a.jsx)("li",{className:"",children:(null===(r=n.bio)||void 0===r?void 0:r.length)>0?n.bio:Object(a.jsxs)("p",{className:"text-gray-500 italic text-center font-normal",children:[n.username," has no bio yet"]})}),Object(a.jsxs)("li",{children:[n.join_date_formatted," "]})]})]}),l._id!==n._id||d?null:Object(a.jsxs)("button",{onClick:function(){return u(!0)},className:"flex gap-2 items-center text-sm text-white bg-fb-blue rounded-sm p-2 float-right",children:[Object(a.jsx)("span",{children:"Edit Profile"}),Object(a.jsx)(Pe.a,{})]})]})]})};var Re=function(e){var t=e.userFromServer,r=e.setDefaultImg,s=(e.IsModalOpen,e.setIsModalOpen);return 0===t.friends.length?Object(a.jsx)("section",{className:"flex items-center justify-center w-full lg:w-1/2 glassmorphism-light",children:Object(a.jsxs)("h1",{className:"text-lg text-fb-blue-light text-shadow-sm",children:[t.username," has no MapPals yet"]})}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("section",{className:"w-full lg:w-1/2 flex flex-wrap items-center glassmorphism-light p-2 gap-5 flex-row relative justify-center",children:[Object(a.jsxs)("span",{className:"text-fb-blue-light font-normal text-sm absolute -top-5 right-0 md:left-0",children:[t.friends.length," Pals"]}),t.friends.slice(0,5).map((function(e){return Object(a.jsx)(d.b,{to:"/profile/".concat(e._id),className:"flex flex-col",onClick:function(){return s(!1)},children:Object(a.jsxs)("div",{className:"relative",children:[Object(a.jsx)("h1",{className:"text-xs absolute bottom-2 right-2 bg-fb-blue-light text-white rounded-lg px-2",children:e.username}),Object(a.jsx)("img",{src:e.imgUrl,onError:r,alt:"profile img",className:"w-28 rounded-md shadow-sm hover:shadow-lg"})]})},e._id)})),t.friends.length>5&&Object(a.jsx)("button",{onClick:function(){return s(!0)},className:"md:absolute bottom-1 right-5 text-xs text-fb-blue-light hover:underline",children:"Show more"})]})})};var He=function(e){var t=e.marker,r=e.styling,s=e.setClickedMarker,n=e.setLatitude,l=e.setLongitude;return Object(a.jsxs)("li",{className:r,onClick:function(){s(t),n(t.lat),l(t.lng)},children:[Object(a.jsx)(i.a,{className:"w-2"}),Object(a.jsx)("h1",{children:t.name})]})};var qe=function(e){var t=e.lat,r=e.lng,n=e.clickedMarker,l=Object(b.a)();return Object(s.useEffect)((function(){l.flyTo([t,r],14,{duration:2})}),[t,r,l]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(a.jsx)(f.a,{position:[t,r],children:Object(a.jsx)(p,{place:n,addDefaultSrc:function(e){e.target.src=x}})})]})};var We=function(e){e.user;var t=e.userFromServer,r=ae("https://mappals.herokuapp.com/markers/user/".concat(t._id)).data,l=Object(s.useState)({}),c=Object(C.a)(l,2),A=c[0],o=c[1],g=Object(s.useState)(0),d=Object(C.a)(g,2),u=d[0],m=d[1],b=Object(s.useState)(0),I=Object(C.a)(b,2),f=I[0],h=I[1];return n.a.useEffect((function(){(null===r||void 0===r?void 0:r.length)>0&&(o(r[0]),m(r[0].lat),h(r[0].lng))}),[r]),Object(a.jsxs)("section",{className:"mt-2 w-full h-full flex flex-col md:flex-row font-normal",children:[Object(a.jsxs)("div",{className:"w-full md:w-1/5 min-h-150",children:[Object(a.jsxs)("h1",{className:"w-full text-center font-semibold bg-fb-blue text-white rounded-sm mb-2",children:[t.username,"'s Markers"]}),Object(a.jsx)("ul",{className:"flex flex-col items-center gap-1 max-h-180 overflow-scroll overflow-x-hidden",children:r&&r.length>0?r.map((function(e){return Object(a.jsx)(He,{marker:e,styling:(t=e._id,t===A._id?"marker-card-selected":"marker-card"),setClickedMarker:o,setLatitude:m,setLongitude:h},e._id);var t})):Object(a.jsxs)("span",{className:"text-default text-fb-blue-light font-semibold mt-10 md:mt-20",children:[t.username," has no markers yet"]})})]}),Object(a.jsx)("section",{className:"w-full min-h-300 md:min-h-0 h-full md:w-4/5 border-0 border-fb-blue md:border-l-2 relative",children:r&&r.length>0?Object(a.jsx)(j.a,{center:[u,f],zoom:13,scrollWheelZoom:!0,className:"w-full h-full",children:Object(a.jsx)(qe,{lat:u,lng:f,clickedMarker:A})}):Object(a.jsx)("div",{className:"h-full w-full bg-berlin-map",children:Object(a.jsx)("div",{className:"w-full h-full backdrop-filter backdrop-blur-sm flex flex-col items-center justify-center text-shadow-md",children:Object(a.jsx)(i.a,{className:"text-2xl"})})})})]})};var Fe=function(e){var t=e.userFromServer,r=e.setDefaultImg;return Object(a.jsxs)("figure",{className:"w-full flex flex-col items-center gap-4 bg-gray-800 text-white shadow-lg p-4 mb-6 relative",children:[Object(a.jsx)("img",{src:"".concat(t.imgUrl),onError:r,alt:"profile img",className:"w-40 rounded-full shadow-lg border-2 mt-2 border-white"}),Object(a.jsx)("figcaption",{className:"text-2xl font-semibold",children:t.username})]})};var ze=function(e){var t=e.friend,r=e.setDefaultImg,s=e.setIsModalOpen;return Object(a.jsxs)(d.b,{to:"/profile/".concat(t._id),className:"flex gap-2 bg-fb-blue-light mx-4 my-2 p-2 items-center rounded-sm transition hover:bg-blue-600",onClick:function(){return s(!1)},children:[Object(a.jsx)("img",{className:"w-8 rounded-full",src:t.imgUrl,onError:r,alt:"profile img"}),Object(a.jsx)("h1",{className:"text-sm text-white",children:t.username})]})};var Je=function(){var e=Object(g.h)().id,t=Object(s.useContext)(Ze).user,r=ae("https://mappals.herokuapp.com/user/".concat(e)),l=r.data,c=r.error,A=r.refresh,o=r.setRefresh,d=n.a.useState(!1),m=Object(C.a)(d,2),j=m[0],b=m[1],I=n.a.useState(!1),f=Object(C.a)(I,2),h=f[0],x=f[1];n.a.useEffect((function(){b(null===l||void 0===l?void 0:l.friends.some((function(e){return e._id===t._id})))}),[null===t||void 0===t?void 0:t._id,l]);var p=Object(s.useContext)(Ve).token;if(c)return Object(a.jsx)(Te,{});var O=function(e){e.target.src=u};return Object(a.jsx)("article",{className:"flex-grow flex flex-col items-center font-semibold",children:l&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Fe,{userFromServer:l,setDefaultImg:O}),Object(a.jsxs)("div",{className:"w-full flex flex-col lg:flex-row gap-5 p-4",children:[Object(a.jsx)(Le,{userFromServer:l,user:t,token:p,refreshUserFS:A,setRefreshUserFS:o}),Object(a.jsx)(Re,{userFromServer:l,setDefaultImg:O,isModalOpen:h,setIsModalOpen:x})]}),t._id===l._id||j?Object(a.jsx)(We,{userFromServer:l,user:t}):Object(a.jsx)("div",{className:"h-full w-full bg-berlin-map border-t-2 border-grray-300",children:Object(a.jsxs)("div",{className:"w-full h-full backdrop-filter backdrop-blur-sm flex flex-col items-center justify-center gap-2 text text-shadow-md",children:[Object(a.jsxs)("h1",{children:["To see ",l.username,"'s places you have to be Friends"]}),Object(a.jsx)(i.a,{className:"text-2xl"})]})}),h&&Object(a.jsxs)("section",{className:"absolute top-1/4 overlay-shadow bg-white max-h-80 overflow-scroll p-4 rounded-sm w-4/5 md:w-1/5",children:[l.friends.map((function(e){return Object(a.jsx)(ze,{friend:e,setDefaultImg:O,setIsModalOpen:x},e._id)})),Object(a.jsx)("button",{className:"text-sm bg-fb-blue text-white px-2 py-1 rounded-sm float-right mr-4",onClick:function(){return x(!1)},children:"close"})]})]})})},Ze=n.a.createContext(),Ve=n.a.createContext();var Xe=function(){var e=ve(),t=e.addUser,r=e.user,s=e.removeUser,n=e.setUser,l=we(),c=l.addToken,A=l.token,i=l.removeToken;return Object(a.jsx)(d.a,{children:Object(a.jsx)(Ve.Provider,{value:{addToken:c,token:A,removeToken:i},children:Object(a.jsx)(Ze.Provider,{value:{addUser:t,user:r,removeUser:s,setUser:n},children:Object(a.jsxs)("article",{className:"h-screen flex flex-col font-custom",children:[Object(a.jsx)(m,{}),Object(a.jsxs)(g.c,{children:[Object(a.jsx)(g.a,{exact:!0,path:"/",children:Object(a.jsx)(xe,{})}),Object(a.jsx)(g.a,{path:"/signup",children:Object(a.jsx)(Oe,{})}),Object(a.jsx)(g.a,{path:"/login",children:Object(a.jsx)(pe,{})}),Object(a.jsx)(g.a,{path:"/map",children:Object(a.jsx)(je,{})}),Object(a.jsx)(g.a,{path:"/friends",children:Object(a.jsx)(Ue,{})}),Object(a.jsx)(g.a,{path:"/profile/:id",children:Object(a.jsx)(Je,{})})]}),Object(a.jsx)(o,{})]})})})})};c.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(Xe,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.f8c5154d.chunk.js.map